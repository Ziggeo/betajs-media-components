<div
    class="ba-ad-container {{linear ? (css + '-overlay') : ''}}
    {{cssadsplayer + (linear ? '-linear-ad-container' : '-non-linear-ad-container')}}
    {{hideoninactivity ? (cssplayer + '-controlbar-hidden') : ''}}"
    ba-styles="{{floating ? {} : parentcontainersizingstyles}}"
    data-video="ima-ad-container"
>
    <ba-ads-choices-link
        ba-if="{{adchoiceslink && adchoicesontop}}"
        ba-adchoiceslink="{{adchoiceslink}}"
        ba-cssadsplayer="{{cssadsplayer}}"
        ba-datatestselector="{{top-ads-choices-button}}"
        ba-visibilitycondition="{{adsplaying && !floating && !sidebar_active}}"
    ></ba-ads-choices-link>

    <div ba-if="{{showactionbuttons && isoutstream}}"
        class="{{cssadsplayer}}-actions-button-container {{csscommon}}-center-all"
    >
        <div ba-if="{{moredetailslink}}">
            <a
                href="{{ moredetailslink }}" target="_blank"
                class="{{cssadsplayer}}-action-button"
                title="{{moredetailstext ? moredetailstext : string('learn-more')}}"
            >
                <i class="{{csscommon}}-icon-share"></i>
                {{moredetailstext ? moredetailstext : string('learn-more')}}
            </a>
        </div>
        <div ba-if="{{showrepeatbutton}}">
            <div class="{{cssadsplayer}}-action-button" ba-click="{{replay()}}"
                title="{{repeatbuttontext ? repeatbuttontext : string('replay-ad')}}"
            >
                <i class="{{csscommon}}-icon-cw"></i>
                {{repeatbuttontext ? repeatbuttontext : string('replay-ad')}}
            </div>
        </div>
        <div>
            <div class="{{cssadsplayer}}-action-button {{cssadsplayer}}-reversed-color"
                 title="{{string('close-ad')}}" ba-click="{{close()}}"
            >
                <i class="{{csscommon}}-icon-cancel"></i>
                {{string('close-ad')}}
            </div>
        </div>
    </div>
    <div ba-if="{{ adsclicktroughurl && customclickthrough }}"
         data-selector="ba-ads-clickthrough-container"
         class="{{css}}-overlay {{csscommon}}-clickable"
    ></div>
    <div ba-if="{{!userhadplayerinteraction && unmuteonclick && linear}}"
         class="{{css}}-overlay {{cssadsplayer}}-ad-click-tracker {{csscommon}}-clickable"
         ba-click="{{ad_clicked()}}"
    ></div>
</div>
<ba-{{dyncontrolbar}}
    ba-if="{{!hidecontrolbar && linear && !showactionbuttons}}"
    ba-css="{{css}}"
    ba-csscommon="{{csscommon}}"
    ba-cssadsplayer="{{cssadsplayer}}"
    ba-template="{{tmplcontrolbar}}"
    ba-linear={{linear}}
    ba-duration="{{duration}}"
    ba-volume="{{volume}}"
    ba-muted="{{muted}}"
    ba-remaining="{{=remaining}}"
    ba-unmuteonclick="{{unmuteonclick}}"
    ba-playing={{playing}}
    ba-userhadplayerinteraction="{{userhadplayerinteraction}}"
    ba-currenttime={{=currenttime}}
    ba-hideoninactivity={{hideoninactivity}}
    ba-event:resume="resume"
    ba-event:fullscreen="{{trigger('fullscreen')}}"
    ba-fullscreened="{{fullscreened}}"
    ba-event:pause="pause"
    ba-event:volume="set_volume"
    ba-event:stop="stop"
    ba-view_type="{{view_type}}"
    ba-floating="{{floating}}"
    ba-adchoicesontop="{{adchoicesontop}}"
    ba-adchoiceslink="{{adchoiceslink}}"
    ba-adchoicesstring="{{string('ad-choices')}}"
    ba-controlbarstyles="{{controlbarstyles}}"
></ba-{{dyncontrolbar}}>
